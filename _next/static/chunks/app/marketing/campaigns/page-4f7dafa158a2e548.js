(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[953],{52448:(e,a,t)=>{Promise.resolve().then(t.bind(t,82172))},82172:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>x});var l=t(95155),s=t(12115),n=t(48173),r=t.n(n);function d(e){let{onSubmit:a,initialData:t,isEditing:n,onCancel:r}=e,[d,i]=(0,s.useState)(t);(0,s.useEffect)(()=>{i(t)},[t]);let c=e=>{let{name:a,value:t}=e.target;if("budget"===a){let e=Number(t.replace(/\D/g,""));i(a=>({...a,budget:e}))}else i(e=>({...e,[a]:t}))};return(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(d),n||i({name:"",description:"",budget:0,startDate:"",endDate:"",targetAudience:""})},className:"p-8 rounded-xl shadow-md mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-black mb-4",children:n?"Edit Campaign":"New Campaign"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-black mb-1",children:"Campaign Name"}),(0,l.jsx)("input",{type:"text",name:"name",value:d.name,onChange:c,className:"w-full border border-gray-300 p-2 rounded-md text-black",placeholder:"Enter campaign name",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700 mb-1",children:"Description"}),(0,l.jsx)("textarea",{name:"description",value:d.description,onChange:c,className:"w-full border border-gray-300 p-2 rounded-md text-black",placeholder:"Enter campaign description",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-black mb-1",children:"Budget"}),(0,l.jsx)("input",{type:"text",name:"budget",value:d.budget>0?"".concat(d.budget):"",onChange:c,className:"w-full border border-gray-300 p-2 rounded-md text-black",placeholder:"Amount",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-black mb-1",children:"Start Date"}),(0,l.jsx)("input",{type:"date",name:"startDate",value:d.startDate,onChange:c,className:"w-full border border-gray-300 p-2 rounded-md text-black",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-black mb-1",children:"End Date"}),(0,l.jsx)("input",{type:"date",name:"endDate",value:d.endDate,onChange:c,className:"w-full border border-gray-300 p-2 rounded-md text-black",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-black mb-1",children:"Target Audience"}),(0,l.jsx)("input",{type:"text",name:"targetAudience",value:d.targetAudience,onChange:c,className:"w-full border border-gray-300 p-2 rounded-md text-black",placeholder:"e.g., Music lovers, Tech enthusiasts",required:!0})]}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("button",{type:"submit",className:"flex-1 bg-blue-800 text-white py-2 rounded-md",children:n?"Update Campaign":"Create Campaign"}),n&&(0,l.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-black text-white py-2 rounded-md",children:"Cancel"})]})]})]})}let i=[{id:1,name:"summer fun",description:"cant wait for summer!",budget:1e3,startDate:"2025-06-01",endDate:"2025-06-15",targetAudience:"music enjoyers",launched:!1},{id:2,name:"Campaign2",description:"Some Description",budget:1500,startDate:"2025-12-01",endDate:"2025-12-15",targetAudience:"me myself and I",launched:!0}],c=async()=>{try{let e=await fetch("https://example.com/api/campaigns");if(!e.ok)throw Error("Failed to fetch campaigns");return await e.json()}catch(e){return console.warn("API call failed in fetchCampaigns, using fallback data.",e),i}},o=async e=>{try{let a=await fetch("https://example.com/api/campaigns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to create campaign");return await a.json()}catch(a){return console.warn("API call failed in createCampaign, simulating creation.",a),new Promise(a=>{setTimeout(()=>{a({id:Date.now(),launched:!1,...e})},500)})}},m=async(e,a)=>{try{let t=await fetch("https://example.com/api/campaigns/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok)throw Error("Failed to update campaign");return await t.json()}catch(t){return console.warn("API call failed in updateCampaign, simulating update.",t),new Promise(t=>{t({id:e,...a})})}},u=async e=>{try{let a=await fetch("https://example.com/api/campaigns/".concat(e),{method:"DELETE"});if(!a.ok)throw Error("Failed to delete campaign");await a.json()}catch(e){return console.warn("API call failed in deleteCampaign, simulating deletion.",e),new Promise(e=>{e()})}};function x(){let[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[i,x]=(0,s.useState)(null),[p,h]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{let e=await c();a(e)}catch(e){console.error("Error fetching campaigns:",e)}finally{n(!1)}})()},[]);let b=async e=>{let t=await o(e);a(e=>[...e,t])},g=async e=>{if(i){let t=await m(i.id,{...e,launched:i.launched});a(e=>e.map(e=>e.id===i.id?t:e)),x(null)}},f=async e=>{await u(e),a(a=>a.filter(a=>a.id!==e))},j=async e=>{let t=await m(e.id,{name:e.name,description:e.description,budget:e.budget,startDate:e.startDate,endDate:e.endDate,targetAudience:e.targetAudience,launched:!0});a(a=>a.map(a=>a.id===e.id?t:a))},y=e.filter(e=>e.name.toLowerCase().includes(p.toLowerCase()));return(0,l.jsxs)("div",{className:"min-h-screen w-full",children:[(0,l.jsx)("header",{className:"w-full bg-blue-800 text-white py-12 px-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-5xl font-extrabold drop-shadow-md",children:"Campaigns"}),(0,l.jsx)("p",{className:"mt-4 text-2xl",children:"Create, edit, and manage your marketing campaigns."}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)(r(),{href:"/marketing/analytics",className:"inline-block px-6 py-2 bg-white text-blue-800 font-medium rounded-md",children:"Go to Analytics"})})]})}),(0,l.jsx)("main",{className:"w-full px-8 py-8",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{className:"p-6 rounded-xl shadow-lg border border-gray-300",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:i?"Edit Campaign":"Create a New Campaign"}),(0,l.jsx)(d,{onSubmit:i?g:b,initialData:i||{name:"",description:"",budget:0,startDate:"",endDate:"",targetAudience:""},isEditing:!!i,onCancel:()=>x(null)})]}),(0,l.jsx)("div",{className:"p-6 rounded-xl shadow-lg border border-gray-300",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Existing Campaigns"}),(0,l.jsx)("input",{type:"text",placeholder:"Search by name...",className:"px-4 py-2 border border-gray-300 rounded-md text-sm text-black",value:p,onChange:e=>h(e.target.value)}),(0,l.jsx)("div",{className:"max-h-[calc(100vh-300px)] overflow-y-auto pr-4",children:t?(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-800"})}):0===y.length?(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-black",children:"No campaigns found."})}):(0,l.jsx)("ul",{className:"space-y-2",children:y.map(e=>(0,l.jsx)("li",{className:"p-3 rounded-lg border border-gray-300",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,l.jsx)("h3",{className:"font-bold text-black",children:e.name}),(0,l.jsxs)("p",{className:"text-xs text-black",children:["Description: ",e.description]}),(0,l.jsxs)("p",{className:"text-xs text-black",children:["Budget: $",e.budget]}),(0,l.jsxs)("p",{className:"text-xs text-black",children:["Duration: ",e.startDate," to ",e.endDate]}),(0,l.jsxs)("p",{className:"text-xs text-black",children:["Target Audience: ",e.targetAudience]}),(0,l.jsxs)("p",{className:"text-xs font-semibold text-black",children:["Status: ",e.launched?"Launched":"Not Launched"]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-1",children:[!e.launched&&(0,l.jsx)("button",{onClick:()=>j(e),className:"px-2 py-1 bg-green-800 text-white rounded text-sm",children:"Launch"}),(0,l.jsx)("button",{onClick:()=>x(e),className:"px-2 py-1 bg-blue-800 text-white rounded text-xs",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>f(e.id),className:"px-2 py-1 bg-red-800 text-white rounded text-xs",children:"Delete"})]})]})},e.id))})})]})})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[173,441,517,358],()=>a(52448)),_N_E=e.O()}]);